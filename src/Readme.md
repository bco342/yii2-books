# yii2-books
### Каталог книг на фреймворке Yii2 + MySQL.

1. Книга - название, год выпуска, описание, isbn, фото главной страницы.
2. Авторы - ФИО.
   Книга может иметь несколько авторов.

Права на доступ:
1. Гость - только просмотр + подписка на новые книги автора.
2. Юзер - просмотр, добавление, редактирование, удаление. (CRUD). Отчет без разницы.

Отчет - ТОП 10 авторов выпуствиших больше книг за какой-то год.

Уведомление о поступлении книг из подписки отправляется на смс гостю.

Дополнительно:
- Запросы в smspilot выполняются в отдельном процессе из cron с помощью консольной команды `yii notification/send`
- Работа с конкретным sms-шлюзом выделена в отдельный сервис, что позволит легко перенастроить приложение на любой другой шлюз.
- Написан DatabaseSeeder для заполнения БД тестовыми данными (команда `yii seed {cleanNeeded} {countNewItems}`)
- Настроена мультиязычность приложения
- Настроен захват параметров приложения из переменных окружения для удобного CI/CD и, например, простого изменения SMS_PILOT_API_KEY
- Настроен Codeception. Для примера, написаны unit-тесты метода Subscription::formatPhoneNumber()
- Настроен PHPStan